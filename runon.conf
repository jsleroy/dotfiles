[DEFAULT]
environment =
    HOME
    USER
    DISPLAY
    TERM
    debian_chroot=${osname}
    LMX_LICENSE_PATH

binds =
    /etc/timezone:ro
    /etc/localtime:ro
    /etc/passwd:ro
    /etc/group:ro
    /etc/shadow:ro
    /tmp/.X11-unix:ro
    /home/${user}
    /work
    /media/jean/data
    /opt/mentor
    # /opt/codasip

[cachyos]
dockerfile =
    FROM cachyos/cachyos
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN pacman -S {} -y
packages =

[brick/pre-commit]
dockerfile =
    FROM docker-registry.codasip.com/dv-infra/pre-commit
pkginstall = RUN yum install {} -y
packages =

[release]
dockerfile =
    FROM harbor.codasip.com/dv-infra/release
    # ARG DEBIAN_FRONTEND=noninteractive
    # RUN apt-get update
    # RUN apt-get -y install apt-utils
    # RUN apt-get -y install sudo
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN apt-get -y install {}
packages =

[brick/centos8]
dockerfile =
    FROM docker-registry.codasip.com/brick/centos8
    RUN yum install sudo -y
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN yum install {} -y
packages = git

[brick/debian10-contrib]
dockerfile =
    FROM docker-registry.codasip.com/dv-infra/debian11-contrib
pkginstall = RUN yum install {} -y
packages =

[brick/debian11-contrib]
dockerfile =
    FROM docker-registry.codasip.com/dv-infra/debian11-contrib
    ARG DEBIAN_FRONTEND=noninteractive
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN apt-get install {} -y
packages =

[brick/debian11]
dockerfile =
    FROM docker-registry.codasip.com/brick/debian11
pkginstall = RUN yum install {} -y
packages =

[brick/debian12]
dockerfile =
    FROM docker-registry.codasip.com/brick/debian12
pkginstall = RUN yum install {} -y
packages =

[brick/rhel8]
dockerfile =
    FROM docker-registry.codasip.com/dv-infra/rhel8
    RUN yum install sudo -y
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN yum install {} -y
packages =

[brick/debian10]
dockerfile =
    FROM docker-registry.codasip.com/dv-infra/debian10
    ARG DEBIAN_FRONTEND=noninteractive
    RUN apt-get update
    RUN apt-get -y install apt-utils
    RUN apt-get -y install sudo
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN apt-get -y install {}
packages =

[centos7]
dockerfile =
    FROM centos:7
    RUN yum install sudo -y
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
    RUN yum install -y epel-release
    RUN yum group install -y "Development tools"
    RUN yum install -y scons python3 git glibc-devel libstdc++-static
    # RUN yum install -y python-pip python-venv
pkginstall = RUN yum install {} -y
packages =

[centos8]
dockerfile =
    FROM centos:centos8
    RUN cd /etc/yum.repos.d/
    RUN sed -i 's/mirrorlist/#mirrorlist/g' /etc/yum.repos.d/CentOS-*
    RUN sed -i 's|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g' /etc/yum.repos.d/CentOS-*
    RUN yum update -y
    RUN yum install sudo -y
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN yum install {} -y
packages = git

[rocky8.6]
dockerfile =
    FROM rockylinux:8.6
    RUN yum install sudo -y
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN yum install {} -y
packages =

[rocky8.8]
dockerfile =
    FROM rockylinux:8.8
    RUN yum install sudo -y
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN yum install {} -y
packages =

[rhel8.6]
dockerfile =
    FROM registry.access.redhat.com/ubi8/ubi:8.6
    RUN yum install sudo -y
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
    RUN subscription-manager register --org=16576988 --activationkey=RHEL
pkginstall = RUN yum install {} -y
packages = git diffutils make patch unzip

[rhel8.9]
dockerfile =
    FROM registry.access.redhat.com/ubi8/ubi:8.9
    RUN yum install sudo -y
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
    RUN subscription-manager register --org=16576988 --activationkey=RHEL
pkginstall = RUN yum install {} -y
packages = git diffutils make patch unzip

[debian10]
dockerfile =
    FROM debian:10
    ARG DEBIAN_FRONTEND=noninteractive
    RUN apt-get update
    RUN apt-get -y install apt-utils
    RUN apt-get -y install sudo
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN apt-get -y install {}
packages = build-essential git bash-completion scons python3 jq python3-venv verilator

[debian11]
dockerfile =
    FROM debian:11
    ARG DEBIAN_FRONTEND=noninteractive
    RUN apt-get update
    RUN apt-get -y install apt-utils
    RUN apt-get -y install sudo
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN apt-get -y install {}
packages = build-essential git scons python3 jq python3-venv verilator

[debian12]
dockerfile =
    FROM debian:12
    ARG DEBIAN_FRONTEND=noninteractive
    RUN apt-get update
    RUN apt-get -y install apt-utils
    RUN apt-get -y install sudo
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
pkginstall = RUN apt-get -y install {}
packages = build-essential git scons python3 jq python3-venv verilator libxft2

[debian12-studio]
dockerfile =
    FROM debian:12
    ARG DEBIAN_FRONTEND=noninteractive
    RUN apt-get update
    RUN apt-get -y install apt-utils
    RUN apt-get -y install sudo
    RUN echo "Defaults lecture = never" >> /etc/sudoers
    RUN echo "ALL ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
    RUN update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-11 10
    RUN update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-11 10
pkginstall = RUN apt-get -y install {}
packages = build-essential git scons python3 jq python3-venv verilator libxft2 g++-11

[ub1604]
dockerfile =
    FROM ubuntu:16.04
    ARG DEBIAN_FRONTEND=noninteractive
    RUN apt-get update
    RUN apt-get -y install apt-utils
    RUN apt-get -y install sudo
    RUN echo "Defaults lecture = never" >> /etc/sudoers
pkginstall = RUN apt-get -y install {}
packages = build-essential git scons cmake gcc zlib1g-dev autoconf libtool

[ub2004]
dockerfile =
    FROM ubuntu:20.04
    ARG DEBIAN_FRONTEND=noninteractive
    RUN apt-get update
    RUN apt-get -y install apt-utils
    RUN apt-get -y install sudo
    RUN echo "Defaults lecture = never" >> /etc/sudoers
pkginstall = RUN apt-get -y install {}
packages = build-essential git scons

[ub2504]
dockerfile =
    FROM ubuntu:25.04
    ARG DEBIAN_FRONTEND=noninteractive
    RUN apt-get update
    RUN apt-get -y install apt-utils
    RUN apt-get -y install sudo
    RUN echo "Defaults lecture = never" >> /etc/sudoers
pkginstall = RUN apt-get -y install {}
packages = build-essential git scons

[python39]
dockerfile =
    FROM python:3.9
pkginstall =
packages =

[python311]
dockerfile =
    FROM python:3.11
pkginstall =
packages =

[python312]
dockerfile =
    FROM python:3.12
pkginstall =
packages =

[btools/debian10]
dockerfile =
    FROM docker-registry.codasip.com/btools/debian10
pkginstall =
packages =

[manylinux]
dockerfile =
    FROM quay.io/pypa/manylinux2014_x86_64
pkginstall = RUN yum install -y {}
packages = gcc gcc-c++ scons
